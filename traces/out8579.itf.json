{"#meta":{"format":"ITF","format-description":"https://apalache.informal.systems/docs/adr/015adr-trace.html","source":"bank.qnt","status":"ok","description":"Created by Quint on Wed Nov 20 2024 10:50:27 GMT-0300 (Brasilia Standard Time)","timestamp":1732110627239},"vars":["bank_state","error"],"states":[{"#meta":{"index":0},"action_taken":"init","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"0"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"0"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"None","value":{"#tup":[]}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":1},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"82"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"0"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"82"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Alice"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":2},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"82"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"98"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"98"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Charlie"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":3},"action_taken":"withdraw_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"82"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"39"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"59"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"Some","value":"Charlie"}}},{"#meta":{"index":4},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"174"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"39"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"92"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Alice"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":5},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"174"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"104"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"65"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Charlie"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":6},"action_taken":"transfer_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"174"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"104"}]]},"investments":{"#map":[]},"next_id":{"#bigint":"0"}},"error":{"tag":"Some","value":"Balance is too low"},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"52"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"Some","value":"Charlie"},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"Some","value":"Bob"},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":7},"action_taken":"buy_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"135"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"104"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}]]},"next_id":{"#bigint":"1"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"39"}},"buyer":{"tag":"Some","value":"Alice"},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":8},"action_taken":"buy_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"135"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"104"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}]]},"next_id":{"#bigint":"1"}},"error":{"tag":"Some","value":"Amount should be greater than zero"},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"-40"}},"buyer":{"tag":"Some","value":"Alice"},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":9},"action_taken":"buy_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"122"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"104"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}]]},"next_id":{"#bigint":"2"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"13"}},"buyer":{"tag":"Some","value":"Alice"},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":10},"action_taken":"buy_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"100"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"104"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}]]},"next_id":{"#bigint":"3"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"22"}},"buyer":{"tag":"Some","value":"Alice"},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":11},"action_taken":"buy_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"100"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"56"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}]]},"next_id":{"#bigint":"4"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"48"}},"buyer":{"tag":"Some","value":"Charlie"},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":12},"action_taken":"withdraw_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"28"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"56"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}]]},"next_id":{"#bigint":"4"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"72"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"Some","value":"Alice"}}},{"#meta":{"index":13},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"28"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"65"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}]]},"next_id":{"#bigint":"4"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"9"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Charlie"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":14},"action_taken":"withdraw_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"28"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}]]},"next_id":{"#bigint":"4"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"60"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"Some","value":"Charlie"}}},{"#meta":{"index":15},"action_taken":"buy_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"19"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}],[{"#bigint":"4"},{"amount":{"#bigint":"9"},"owner":"Alice"}]]},"next_id":{"#bigint":"5"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"9"}},"buyer":{"tag":"Some","value":"Alice"},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":16},"action_taken":"transfer_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"19"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}],[{"#bigint":"4"},{"amount":{"#bigint":"9"},"owner":"Alice"}]]},"next_id":{"#bigint":"5"}},"error":{"tag":"Some","value":"Balance is too low"},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"78"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"Some","value":"Alice"},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"Some","value":"Alice"},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":17},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"19"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}],[{"#bigint":"4"},{"amount":{"#bigint":"9"},"owner":"Alice"}]]},"next_id":{"#bigint":"5"}},"error":{"tag":"Some","value":"Amount should be greater than zero"},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"-23"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Alice"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":18},"action_taken":"withdraw_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"19"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}],[{"#bigint":"4"},{"amount":{"#bigint":"9"},"owner":"Alice"}]]},"next_id":{"#bigint":"5"}},"error":{"tag":"Some","value":"Amount should be greater than zero"},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"-35"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"Some","value":"Charlie"}}},{"#meta":{"index":19},"action_taken":"deposit_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"91"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}],[{"#bigint":"4"},{"amount":{"#bigint":"9"},"owner":"Alice"}]]},"next_id":{"#bigint":"5"}},"error":{"tag":"None","value":{"#tup":[]}},"nondet_picks":{"amount":{"tag":"Some","value":{"#bigint":"72"}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"Some","value":"Alice"},"id":{"tag":"None","value":{"#tup":[]}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"None","value":{"#tup":[]}},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}},{"#meta":{"index":20},"action_taken":"sell_investment_action","bank_state":{"balances":{"#map":[["Alice",{"#bigint":"91"}],["Bob",{"#bigint":"0"}],["Charlie",{"#bigint":"5"}]]},"investments":{"#map":[[{"#bigint":"0"},{"amount":{"#bigint":"39"},"owner":"Alice"}],[{"#bigint":"1"},{"amount":{"#bigint":"13"},"owner":"Alice"}],[{"#bigint":"2"},{"amount":{"#bigint":"22"},"owner":"Alice"}],[{"#bigint":"3"},{"amount":{"#bigint":"48"},"owner":"Charlie"}],[{"#bigint":"4"},{"amount":{"#bigint":"9"},"owner":"Alice"}]]},"next_id":{"#bigint":"5"}},"error":{"tag":"Some","value":"Seller can't sell an investment they don't own"},"nondet_picks":{"amount":{"tag":"None","value":{"#tup":[]}},"buyer":{"tag":"None","value":{"#tup":[]}},"depositor":{"tag":"None","value":{"#tup":[]}},"id":{"tag":"Some","value":{"#bigint":"0"}},"receiver":{"tag":"None","value":{"#tup":[]}},"seller":{"tag":"Some","value":"Charlie"},"sender":{"tag":"None","value":{"#tup":[]}},"withdrawer":{"tag":"None","value":{"#tup":[]}}}}]}